<html>
    <head>
        <title>Solution</title>
    </head>
    <body>
        <div id="main">
        <script>
            function makeBox(color, speed){
                let mainNode = document.querySelector('#main');
                let square = document.createElement('div');
                square.style.height = '50px';
                square.style.width = '50px';
                square.style.backgroundColor = color;
                square.style.position = 'absolute';
                square.style.top = '10px';
                square.style.left = '10px';
                mainNode.appendChild(square);
                let margin = 0;
                let goingLeft = true;
                
                return setInterval(()=>{
                    if(goingLeft){
                        margin +=5;
                        square.style.marginLeft=margin+'px';
                        if(margin>500){
                            goingLeft = false;
                        }
                    }else{
                        margin -=5;
                        square.style.marginLeft=margin+'px';
                        if(margin<0){
                            goingLeft = true;
                        }
                    }
                }, speed ,margin)};

                let blueBox = makeBox('blue', 20);
                let redBox = makeBox('red', 50);
                let greenBox = makeBox('green', 10);

                setTimeout(()=>{
                    clearInterval(blueBox);
                    clearInterval(redBox);
                    clearInterval(greenBox);
                },20000);
        </script>
    </body>
</html>